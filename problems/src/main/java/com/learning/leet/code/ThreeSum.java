package com.learning.leet.code;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

public class ThreeSum {

    public List<List<Integer>> threeSum(int[] nums) {
        /*
        Sort the Array: Sorting helps in efficiently finding triplets and managing duplicates.
        Iterate through the Array: Use a loop to fix the first element of the triplet.
        Two-pointer Technique: For the remaining two elements, use two pointers
                (one starting just after the fixed element and the other starting from the end of the array)
                to find pairs that sum up to the negative of the fixed element.
        Avoid Duplicates: Skip over duplicate elements to ensure that the solution set does not contain duplicate triplets.
        * */
        List<List<Integer>> result = new ArrayList<>();
        Arrays.sort(nums);

        for (int i = 0; i < nums.length - 2; i++) {
            // Skip duplicates for the first element
            if (i > 0 && nums[i] == nums[i - 1]) continue;

            int left = i + 1;
            int right = nums.length - 1;
            while (left < right) {
                int sum = nums[i] + nums[left] + nums[right];
                if (sum == 0) {
                    result.add(Arrays.asList(nums[i], nums[left], nums[right]));

                    // Skip duplicates for the second and third elements
                    while (left < right && nums[left] == nums[left + 1]) left++;
                    while (left < right && nums[right] == nums[right - 1]) right--;

                    left++;
                    right--;
                } else if (sum < 0) {
                    left++;
                } else {
                    right--;
                }
            }
        }
        return result;
    }
}
